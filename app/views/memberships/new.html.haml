.col-sm-6.membership-new
  .row
    %h2
      Become a member

    %p
      Startup Victoria membership costs only $99 AUD per year.

  .row
    .form-basic.form-horizontal{ role: "form" }
      = form_for(registration_form, url: create_membership_url, html: { id: "paymentForm" }) do |f|
        - if registration_form.errors.any?
          .leni-TODO-Form-errors
            %ul
              = registration_form.errors.full_messages.each do |message|
                %li
                  = message

        .paymentErrors

        %h3
          Personal Information

        .form-group
          = label_tag(:full_name, "Full Name", :class => "col-sm-3 control-label")
          .col-sm-9
            = f.text_field :full_name, class: "form-control", placeholder: "Full Name", :autofocus => 'autofocus'

        .form-group
          = label_tag(:email, "Email", :class => "col-sm-3 control-label")
          .col-sm-9
            = f.email_field :email, class: "form-control", placeholder: "me@example.com"

        .form-group
          = label_tag(:password, "Password", :class => "col-sm-3 control-label")
          .col-sm-9
            = f.password_field :password, class: "form-control", placeholder: "Password (at least 6 characters)"

        %h3
          Payment

        .form-group
          = label_tag(:card_number, "Card Number", :class => "col-sm-3 control-label")
          .col-sm-9
            %input{ "data-stripe" => "number", class: "form-control" }

        .form-group
          = label_tag(:expiry_date, "Expiry Date", :class => "col-sm-3 control-label")
          .col-sm-3
            %select{ class: 'exp_month', id: 'exp_month', name: 'month', "data-stripe" => "exp-month" }
              %option{ value: "" }
                Month

              - [ '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'].each do |mm|
                %option{ value: mm }
                  = mm

          .col-sm-3
            %select{ class: 'exp_year', id: "exp_year", name: 'year', "data-stripe" => "exp-year" }

              %option{ value: "" }
                Year

              - [ '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022'].each do |yyyy|
                %option{ value: yyyy }
                  = yyyy

        .form-group
          = label_tag(:card_cvc, "CVC", :class => "col-sm-3 control-label")
          .col-sm-3
            %input{ type: "text", class: "form-control", name: "cvc", "data-stripe" => "cvc", value: "" }

        .form-group
          .col-sm-5.col-sm-offset-3
            = f.submit "Pay & Register", class: "btn btn-lg btn-primary btn-block"

        .col-sm-9.col-sm-offset-3
          %p
            By completing this form, you agree to our

            %a{ href: terms_and_conditions_path, target: "_blank" }
              Terms and Conditions

            and

            %a{ href: privacy_path, target: "_blank" }
              Privacy Policy

            %p
              Forgot password?

              %a{ href: password_resets_path }
                Click here

              to get a new password.

            %p

              Already have an account? Click

              %a{ href: login_path }
                here

              to login.

= javascript_include_tag "https://js.stripe.com/v2/"

:javascript
  startup_victoria_memberships_stripe_card_create_token( "#{StartupVictoria.config.stripe_publishable_key}" )
